<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='website.css') }}">
</head>
<body>

<header>
    <nav>
        <ul class="bar">
            <li><a href="/">Home</a></li>
            <li><a href="/web">Issue</a></li>
            <div class="dropdown">
                <button class="dropbtn">Article</button>
                <div class="dropdown-content">
                    <a href="/1">遊戲</a>
                    <a href="/2">日常</a>
                    <a href="/3">問題</a>
                    <a href="/4">感情</a>
                    <a href="/5">程式</a>
                    <a href="/6">梗圖</a>
                    <a href="/7">桐人</a>
                    <a href="/8">閒聊</a>
                    <a href="/9">你媽</a>
                    <a href="/A">家庭</a>
                    <a href="/B">瑟瑟</a>
                    <a href="/C">其他</a>
                </div>
            </div>
            {% if g.username != 'Visitor' %}
                <li id="logout"><a href="/logout">Log Out</a></li>
                <li id="username"><a href="#">{{ g.username }}</a></li>
            {% else %}
                <li id="signin"><a href="/signin">Sign In</a></li>
                <li id="reg"><a href="/register">Register</a></li>
            {% endif %}
        </ul>
    </nav>
</header>

<div class="write">
    <h1>今天想要發什麼文?</h1>
    <form id="postForm" action="/web" method="post">
        <p>主題:</p>
        <textarea id="main" class="main" name="main" required></textarea>
        <p>內容:</p>
        <textarea id="postContent" class="postContent" name="postContent" required></textarea>
        <p>發文的文章屬於哪類?</p>
        <div id="buttons">
            <button type="button" class="category-btn" id="category1" onclick="toggleButton(this, '遊戲')">遊戲</button>
            <button type="button" class="category-btn" id="category2" onclick="toggleButton(this, '日常')">日常</button>
            <button type="button" class="category-btn" id="category3" onclick="toggleButton(this, '問題')">問題</button>
            <button type="button" class="category-btn" id="category4" onclick="toggleButton(this, '感情')">感情</button>
            <br>
            <button type="button" class="category-btn" id="category5" onclick="toggleButton(this, '程式')">程式</button>
            <button type="button" class="category-btn" id="category6" onclick="toggleButton(this, '梗圖')">梗圖</button>
            <button type="button" class="category-btn" id="category7" onclick="toggleButton(this, '桐人')">桐人</button>
            <button type="button" class="category-btn" id="category8" onclick="toggleButton(this, '閒聊')">閒聊</button>
            <br>
            <button type="button" class="category-btn" id="category9" onclick="toggleButton(this, '你媽')">你媽</button>
            <button type="button" class="category-btn" id="categoryA" onclick="toggleButton(this, '家庭')">家庭</button>
            <button type="button" class="category-btn" id="categoryB" onclick="toggleButton(this, '瑟瑟')">瑟瑟</button>
            <button type="button" class="category-btn" id="categoryC" onclick="toggleButton(this, '其他')">其他</button>
        </div>
        <input type="hidden" id="selectedCategory" name="selectedCategory">
        <button type="submit">發文</button>
    </form>
</div>

<script>
    function toggleButton(button, category) {
        var buttons = document.getElementsByClassName("category-btn");
        for (var i = 0; i < buttons.length; i++) {
            buttons[i].classList.remove("active");
        }
        button.classList.add("active");
        document.getElementById("selectedCategory").value = category;
    }

    document.getElementById('postForm').addEventListener('submit', function(event) {
        var selectedCategory = document.getElementById("selectedCategory").value;
        if (!selectedCategory) {
            alert("請選擇一個分類!");
            event.preventDefault();
        }
    });
</script>

<footer>
    <p>Copyright © 2024 Guthib. I have no copyrights because the idea is stolen from github.</p>
</footer>

</body>
</html>
